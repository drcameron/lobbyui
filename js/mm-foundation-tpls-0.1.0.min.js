angular.module("mm.foundation",["mm.foundation.tpls","mm.foundation.accordion","mm.foundation.alert","mm.foundation.bindHtml","mm.foundation.buttons","mm.foundation.position","mm.foundation.dropdownToggle","mm.foundation.transition","mm.foundation.modal","mm.foundation.pagination","mm.foundation.tooltip","mm.foundation.popover","mm.foundation.progressbar","mm.foundation.rating","mm.foundation.tabs","mm.foundation.tour","mm.foundation.typeahead"]);angular.module("mm.foundation.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/tour/tour.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]);angular.module("mm.foundation.accordion",[]).constant("accordionConfig",{closeOthers:true}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[];this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;if(i){angular.forEach(this.groups,function(e){if(e!==r){e.isOpen=false}})}};this.addGroup=function(e){var t=this;this.groups.push(e);e.$on("$destroy",function(n){t.removeGroup(e)})};this.removeGroup=function(e){var t=this.groups.indexOf(e);if(t!==-1){this.groups.splice(this.groups.indexOf(e),1)}}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:true,replace:false,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse",function(e){return{require:"^accordion",restrict:"EA",transclude:true,replace:true,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,n,r,i){var s,o;i.addGroup(t);t.isOpen=false;if(r.isOpen){s=e(r.isOpen);o=s.assign;t.$parent.$watch(s,function(e){t.isOpen=!!e})}t.$watch("isOpen",function(e){if(e){i.closeOthers(t)}if(o){o(t.$parent,e)}})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:true,template:"",replace:true,require:"^accordionGroup",compile:function(e,t,n){return function(t,r,i,s){s.setHeading(n(t,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){if(e){t.html("");t.append(e)}})}}});angular.module("mm.foundation.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:true,replace:true,scope:{type:"=",close:"&"}}});angular.module("mm.foundation.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe);e.$watch(n.bindHtmlUnsafe,function(n){t.html(n||"")})}});angular.module("mm.foundation.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass;this.toggleEvent=e.toggleEvent}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){var i=r[0],s=r[1];s.$render=function(){t.toggleClass(i.activeClass,angular.equals(s.$modelValue,e.$eval(n.btnRadio)))};t.bind(i.toggleEvent,function(){if(!t.hasClass(i.activeClass)){e.$apply(function(){s.$setViewValue(e.$eval(n.btnRadio));s.$render()})}})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,r){function o(){return a(n.btnCheckboxTrue,true)}function u(){return a(n.btnCheckboxFalse,false)}function a(t,n){var r=e.$eval(t);return angular.isDefined(r)?r:n}var i=r[0],s=r[1];s.$render=function(){t.toggleClass(i.activeClass,angular.equals(s.$modelValue,o()))};t.bind(i.toggleEvent,function(){e.$apply(function(){s.$setViewValue(t.hasClass(i.activeClass)?u():o());s.$render()})})}}});angular.module("mm.foundation.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){if(e.currentStyle){return e.currentStyle[n]}else if(t.getComputedStyle){return t.getComputedStyle(e)[n]}return e.style[n]}function r(e){return(n(e,"position")||"static")==="static"}var i=function(t){var n=e[0];var i=t.offsetParent||n;while(i&&i!==n&&r(i)){i=i.offsetParent}return i||n};return{position:function(t){var n=this.offset(t);var r={top:0,left:0};var s=i(t[0]);if(s!=e[0]){r=this.offset(angular.element(s));r.top+=s.clientTop-s.scrollTop;r.left+=s.clientLeft-s.scrollLeft}var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}}}}]);angular.module("mm.foundation.dropdownToggle",["mm.foundation.position"]).directive("dropdownToggle",["$document","$location","$position",function(e,t,n){var r=null,i=angular.noop;return{restrict:"CA",scope:{dropdownToggle:"@"},link:function(t,s,o){var u=angular.element(e[0].querySelector(t.dropdownToggle));t.$watch("$location.path",function(){i()});u.css("display","none").bind("click",function(){i()});s.bind("click",function(t){var o=s===r;t.preventDefault();t.stopPropagation();if(!!r){i()}if(!o&&!s.hasClass("disabled")&&!s.prop("disabled")){u.css("display","block");var a=n.offset(s);var f=n.offset(angular.element(u[0].offsetParent));u.css({left:a.left-f.left+"px",top:a.top-f.top+a.height+$(u[0]).parent()[0].scrollTop+"px"});r=s;i=function(t){if(t){t.preventDefault();t.stopPropagation()}e.unbind("click",i);u.css("display","none");i=angular.noop;r=null};e.bind("click",i)}})}}}]);angular.module("mm.foundation.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function u(e){for(var t in e){if(i.style[t]!==undefined){return e[t]}}}var r=function(i,s,o){o=o||{};var u=e.defer();var a=r[o.animation?"animationEndEventName":"transitionEndEventName"];var f=function(e){n.$apply(function(){i.unbind(a,f);u.resolve(i)})};if(a){i.bind(a,f)}t(function(){if(angular.isString(s)){i.addClass(s)}else if(angular.isFunction(s)){s(i)}else if(angular.isObject(s)){i.css(s)}if(!a){u.resolve(i)}});u.promise.cancel=function(){if(a){i.unbind(a,f)}u.reject("Transition cancelled")};return u.promise};var i=document.createElement("trans");var s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"};var o={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};r.transitionEndEventName=u(s);r.animationEndEventName=u(o);return r}]);angular.module("mm.foundation.modal",["mm.foundation.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++){if(t==e[n].key){return e[n]}}},keys:function(){var t=[];for(var n=0;n<e.length;n++){t.push(e[n].key)}return t},top:function(){return e[e.length-1]},remove:function(t){var n=-1;for(var r=0;r<e.length;r++){if(t==e[r].key){n=r;break}}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(e,t){return{restrict:"EA",replace:true,templateUrl:"template/modal/backdrop.html",link:function(n){n.animate=false;t(function(){n.animate=true});n.close=function(t){var n=e.getTop();if(n&&n.value.backdrop&&n.value.backdrop!="static"&&t.target===t.currentTarget){t.preventDefault();t.stopPropagation();e.dismiss(n.key,"backdrop click")}}}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:true,transclude:true,templateUrl:"template/modal/window.html",link:function(e,n,r){e.windowClass=r.windowClass||"";t(function(){e.animate=true;n[0].focus()})}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,r,i,s){function c(){var e=-1;var t=f.keys();for(var n=0;n<t.length;n++){if(f.get(t[n]).value.backdrop){e=n}}return e}function h(e){var t=n.find("body").eq(0);var r=f.get(e).value;f.remove(e);d(r.modalDomEl,r.modalScope,300,p);t.toggleClass(o,f.length()>0)}function p(){if(u&&c()==-1){var e=a;d(u,a,150,function(){e.$destroy();e=null});u=undefined;a=undefined}}function d(n,r,i,s){function a(){if(a.done){return}a.done=true;n.remove();if(s){s()}}r.animate=false;var o=e.transitionEndEventName;if(o){var u=t(a,i);n.bind(o,function(){t.cancel(u);a();r.$apply()})}else{t(a,0)}}var o="modal-open";var u,a;var f=s.createNew();var l={};i.$watch(c,function(e){if(a){a.index=e}});n.bind("keydown",function(e){var t;if(e.which===27){t=f.top();if(t&&t.value.keyboard){i.$apply(function(){l.dismiss(t.key)})}}});l.open=function(e,t){f.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var s=n.find("body").eq(0),l=c();if(l>=0&&!u){a=i.$new(true);a.index=l;u=r("<div modal-backdrop></div>")(a);s.append(u)}var h=angular.element("<div modal-window></div>");h.attr("window-class",t.windowClass);h.attr("index",f.length()-1);h.attr("animate","animate");h.html(t.content);var p=r(h)(t.scope);f.top().value.modalDomEl=p;s.append(p);s.addClass(o)};l.close=function(e,t){var n=f.get(e).value;if(n){n.deferred.resolve(t);h(e)}};l.dismiss=function(e,t){var n=f.get(e).value;if(n){n.deferred.reject(t);h(e)}};l.dismissAll=function(e){var t=this.getTop();while(t){this.dismiss(t.key,e);t=this.getTop()}};l.getTop=function(){return f.top()};return l}]).provider("$modal",function(){var e={options:{backdrop:true,keyboard:true},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,r,i,s,o,u){function f(e){return e.template?r.when(e.template):i.get(e.templateUrl,{cache:s}).then(function(e){return e.data})}function l(e){var n=[];angular.forEach(e,function(e,i){if(angular.isFunction(e)||angular.isArray(e)){n.push(r.when(t.invoke(e)))}});return n}var a={};a.open=function(t){var i=r.defer();var s=r.defer();var a={result:i.promise,opened:s.promise,close:function(e){u.close(a,e)},dismiss:function(e){u.dismiss(a,e)}};t=angular.extend({},e.options,t);t.resolve=t.resolve||{};if(!t.template&&!t.templateUrl){throw new Error("One of template or templateUrl options is required.")}var c=r.all([f(t)].concat(l(t.resolve)));c.then(function(r){var s=(t.scope||n).$new();s.$close=a.close;s.$dismiss=a.dismiss;var f,l={};var c=1;if(t.controller){l.$scope=s;l.$modalInstance=a;angular.forEach(t.resolve,function(e,t){l[t]=r[c++]});f=o(t.controller,l)}u.open(a,{scope:s,deferred:i,content:r[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass})},function(t){i.reject(t)});c.then(function(){s.resolve(true)},function(){s.reject(false)});return a};return a}]};return e});angular.module("mm.foundation.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(e,t,n,r){var i=this,s=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r){if(t.itemsPerPage){e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10);e.totalPages=i.calculateTotalPages()})}else{this.itemsPerPage=r}};this.noPrevious=function(){return this.page===1};this.noNext=function(){return this.page===e.totalPages};this.isActive=function(e){return this.page===e};this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)};this.getAttributeValue=function(t,n,i){return angular.isDefined(t)?i?r(t)(e.$parent):e.$parent.$eval(t):n};this.render=function(){this.page=parseInt(e.page,10)||1;if(this.page>0&&this.page<=e.totalPages){e.pages=this.getPages(this.page,e.totalPages)}};e.selectPage=function(t){if(!i.isActive(t)&&t>0&&t<=e.totalPages){e.page=t;e.onSelectPage({page:t})}};e.$watch("page",function(){i.render()});e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()});e.$watch("totalPages",function(t){s(e.$parent,t);if(i.page>t){e.selectPage(t)}else{i.render()}})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:false,directionLinks:true,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:true}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:true,link:function(n,r,i,s){function d(e,t,n,r){return{number:e,text:t,active:n,disabled:r}}var o,u=s.getAttributeValue(i.boundaryLinks,t.boundaryLinks),a=s.getAttributeValue(i.directionLinks,t.directionLinks),f=s.getAttributeValue(i.firstText,t.firstText,true),l=s.getAttributeValue(i.previousText,t.previousText,true),c=s.getAttributeValue(i.nextText,t.nextText,true),h=s.getAttributeValue(i.lastText,t.lastText,true),p=s.getAttributeValue(i.rotate,t.rotate);s.init(t.itemsPerPage);if(i.maxSize){n.$parent.$watch(e(i.maxSize),function(e){o=parseInt(e,10);s.render()})}s.getPages=function(e,t){var n=[];var r=1,i=t;var v=angular.isDefined(o)&&o<t;if(v){if(p){r=Math.max(e-Math.floor(o/2),1);i=r+o-1;if(i>t){i=t;r=i-o+1}}else{r=(Math.ceil(e/o)-1)*o+1;i=Math.min(r+o-1,t)}}for(var m=r;m<=i;m++){var g=d(m,m,s.isActive(m),false);n.push(g)}if(v&&!p){if(r>1){var y=d(r-1,"...",false,false);n.unshift(y)}if(i<t){var b=d(i+1,"...",false,false);n.push(b)}}if(a){var w=d(e-1,l,false,s.noPrevious());n.unshift(w);var E=d(e+1,c,false,s.noNext());n.push(E)}if(u){var S=d(1,f,false,s.noPrevious());n.unshift(S);var x=d(t,h,false,s.noNext());n.push(x)}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"Â« Previous",nextText:"Next Â»",align:true}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:true,link:function(t,n,r,i){function a(e,t,n,r,i){return{number:e,text:t,disabled:n,previous:u&&r,next:u&&i}}var s=i.getAttributeValue(r.previousText,e.previousText,true),o=i.getAttributeValue(r.nextText,e.nextText,true),u=i.getAttributeValue(r.align,e.align);i.init(e.itemsPerPage);i.getPages=function(e){return[a(e-1,s,i.noPrevious(),true,false),a(e+1,o,i.noNext(),false,true)]}}}}]);angular.module("mm.foundation.tooltip",["mm.foundation.position","mm.foundation.bindHtml"]).provider("$tooltip",function(){function r(e){var t=/[A-Z]/g;var n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var e={placement:"top",animation:true,popupDelay:0};var t={mouseenter:"mouseleave",click:"click",focus:"blur"};var n={};this.options=function(e){angular.extend(n,e)};this.setTriggers=function(n){angular.extend(t,n)};this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,s,o,u,a,f,l){return function(c,h,p){function v(e){var n=e||d.trigger||p;var r=t[n]||n;return{show:n,hide:r}}var d=angular.extend({},e,n);var m=r(c);var g=l.startSymbol();var y=l.endSymbol();var b="<div "+m+"-popup "+'title="'+g+"tt_title"+y+'" '+'content="'+g+"tt_content"+y+'" '+'placement="'+g+"tt_placement"+y+'" '+'animation="tt_animation" '+'is-open="tt_isOpen"'+">"+"</div>";return{restrict:"EA",scope:true,compile:function(e,t){var n=s(b);return function(t,r,i){function E(){if(!t.tt_isOpen){S()}else{x()}}function S(){if(b&&!t.$eval(i[h+"Enable"])){return}if(t.tt_popupDelay){p=o(T,t.tt_popupDelay,false);p.then(function(e){e()})}else{T()()}}function x(){t.$apply(function(){N()})}function T(){if(!t.tt_content){return angular.noop}C();if(l){o.cancel(l)}s.css({top:0,left:0,display:"block"});if(m){a.find("body").append(s)}else{r.after(s)}w();t.tt_isOpen=true;t.$digest();return w}function N(){t.tt_isOpen=false;o.cancel(p);if(t.tt_animation){l=o(k,500)}else{k()}}function C(){if(s){k()}s=n(t,function(){});t.$digest()}function k(){if(s){s.remove();s=null}}var s;var l;var p;var m=angular.isDefined(d.appendToBody)?d.appendToBody:false;var g=v(undefined);var y=false;var b=angular.isDefined(i[h+"Enable"]);var w=function(){var e,n,i,o;e=m?f.offset(r):f.position(r);n=s.prop("offsetWidth");i=s.prop("offsetHeight");switch(t.tt_placement){case"right":o={top:e.top+e.height/2-i/2,left:e.left+e.width+10};break;case"bottom":o={top:e.top+e.height+10,left:e.left};break;case"left":o={top:e.top+10+e.height/2-i/2,left:e.left-n-10};break;default:o={top:e.top-i-10,left:e.left};break}o.top+="px";o.left+="px";s.css(o)};t.tt_isOpen=false;i.$observe(c,function(e){t.tt_content=e;if(!e&&t.tt_isOpen){N()}});i.$observe(h+"Title",function(e){t.tt_title=e});i.$observe(h+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:d.placement});i.$observe(h+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=!isNaN(n)?n:d.popupDelay});var L=function(){if(y){r.unbind(g.show,S);r.unbind(g.hide,x)}};var A=function(){};i.$observe(h+"Trigger",function(e){L();A();g=v(e);if(angular.isFunction(g.show)){A=t.$watch(function(){return g.show(t,r,i)},function(e){return e?o(T):o(N)})}else{if(g.show===g.hide){r.bind(g.show,E)}else{r.bind(g.show,S);r.bind(g.hide,x)}}y=true});var O=t.$eval(i[h+"Animation"]);t.tt_animation=angular.isDefined(O)?!!O:d.animation;i.$observe(h+"AppendToBody",function(e){m=angular.isDefined(e)?u(e)(t):m});if(m){t.$on("$locationChangeSuccess",function(){if(t.tt_isOpen){N()}})}t.$on("$destroy",function(){o.cancel(l);o.cancel(p);L();A();k()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:true,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:true,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]);angular.module("mm.foundation.popover",["mm.foundation.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:true,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]);angular.module("mm.foundation.progressbar",["mm.foundation.transition"]).constant("progressConfig",{animate:true,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig","$transition",function(e,t,n,r){var i=this,s=[],o=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,u=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.addBar=function(e,t){var n=0,r=e.$parent.$index;if(angular.isDefined(r)&&s[r]){n=s[r].value}s.push(e);this.update(t,e.value,n);e.$watch("value",function(e,n){if(e!==n){i.update(t,e,n)}});e.$on("$destroy",function(){i.removeBar(e)})};this.update=function(e,t,n){var i=this.getPercentage(t);if(u){e.css("width",this.getPercentage(n)+"%");r(e,{width:i+"%"})}else{e.css({transition:"none",width:i+"%"})}};this.removeBar=function(e){s.splice(s.indexOf(e),1)};this.getPercentage=function(e){return Math.round(100*e/o)}}]).directive("progress",function(){return{restrict:"EA",replace:true,transclude:true,controller:"ProgressController",require:"progress",scope:{},template:'<div class="progress" ng-transclude></div>'}}).directive("bar",function(){return{restrict:"EA",replace:true,transclude:true,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:true,transclude:true,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]))}}});angular.module("mm.foundation.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(e,t,n,r){this.maxRange=angular.isDefined(t.max)?e.$parent.$eval(t.max):r.max;this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):r.stateOn;this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):r.stateOff;this.createRateObjects=function(e){var t={stateOn:this.stateOn,stateOff:this.stateOff};for(var n=0,r=e.length;n<r;n++){e[n]=angular.extend({index:n},t,e[n])}return e};e.range=angular.isDefined(t.ratingStates)?this.createRateObjects(angular.copy(e.$parent.$eval(t.ratingStates))):this.createRateObjects(new Array(this.maxRange));e.rate=function(t){if(e.value!==t&&!e.readonly){e.value=t}};e.enter=function(t){if(!e.readonly){e.val=t}e.onHover({value:t})};e.reset=function(){e.val=angular.copy(e.value);e.onLeave()};e.$watch("value",function(t){e.val=t});e.readonly=false;if(t.readonly){e.$parent.$watch(n(t.readonly),function(t){e.readonly=!!t})}}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:true}});angular.module("mm.foundation.tabs",[]).controller("TabsetController",["$scope",function(t){var n=this,r=n.tabs=t.tabs=[];n.select=function(e){angular.forEach(r,function(e){e.active=false});e.active=true};n.addTab=function(t){r.push(t);if(r.length===1||t.active){n.select(t)}};n.removeTab=function(t){var i=r.indexOf(t);if(t.active&&r.length>1){var s=i==r.length-1?i-1:i+1;n.select(r[s])}r.splice(i,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:true,replace:true,scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):false;e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):false;e.type=angular.isDefined(n.type)?e.$parent.$eval(n.type):"tabs"}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:true,templateUrl:"template/tabs/tab.html",transclude:true,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,r){return function(n,i,s,o){var u,a;if(s.active){u=e(s.active);a=u.assign;n.$parent.$watch(u,function(t,r){if(t!==r){n.active=!!t}});n.active=u(n.$parent)}else{a=u=angular.noop}n.$watch("active",function(e){a(n.$parent,e);if(e){o.select(n);n.onSelect()}else{n.onDeselect()}});n.disabled=false;if(s.disabled){n.$parent.$watch(e(s.disabled),function(e){n.disabled=!!e})}n.select=function(){if(!n.disabled){n.active=true}};o.addTab(n);n.$on("$destroy",function(){o.removeTab(n)});n.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t,n,r){e.$watch("headingElement",function(n){if(n){t.html("");t.append(n)}})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.tagName.toLowerCase()==="tab-heading"||e.tagName.toLowerCase()==="data-tab-heading")}return{restrict:"A",require:"^tabset",link:function(t,n,r){var i=t.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){if(e(t)){i.headingElement=t}else{n.append(t)}})})}}});angular.module("mm.foundation.tour",["mm.foundation.position","mm.foundation.tooltip"]).service("$tour",["$window",function(e){function i(){return parseInt(e.localStorage.getItem("mm.tour.step"),10)}function s(n){t=n;e.localStorage.setItem("mm.tour.step",n)}var t=i();var n=false;var r={};this.add=function(e,t){r[e]=t};this.has=function(e){return!!r[e]};this.isActive=function(){return t>0};this.current=function(e){if(e){s(t)}else{return t}};this.start=function(){s(1)};this.next=function(){s(t+1)};this.end=function(){s(0)}}]).directive("stepPopup",["$tour",function(e){return{restrict:"EA",replace:true,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tour/tour.html",link:function(t,n){t.isLastStep=function(){return!e.has(e.current()+1)};t.endTour=function(){n.remove();e.end()};t.nextStep=function(){n.remove();e.next()}}}}]).directive("step",["$position","$tooltip","$tour","$window",function(e,t,n,r){function i(e){var t=e[0].getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=r.innerHeight-80&&t.right<=r.innerWidth}function s(t,s,o){var u=parseInt(o.stepIndex,10);if(n.isActive()&&u){n.add(u,o);if(u===n.current()){if(!i(s)){var a=e.offset(s);r.scrollTo(0,a.top-r.innerHeight/2)}return true}}return false}return t("step","step",s)}]);angular.module("mm.foundation.typeahead",["mm.foundation.position","mm.foundation.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var r=n.match(t),i,s,o;if(!r){throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_'"+" but got '"+n+"'.")}return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,r,i,s,o){var u=[9,13,27,38,40];return{require:"ngModel",link:function(a,f,l,c){var h=a.$eval(l.typeaheadMinLength)||1;var p=a.$eval(l.typeaheadWaitMs)||0;var d=a.$eval(l.typeaheadEditable)!==false;var v=t(l.typeaheadLoading).assign||angular.noop;var m=t(l.typeaheadOnSelect);var g=l.typeaheadInputFormatter?t(l.typeaheadInputFormatter):undefined;var y=l.typeaheadAppendToBody?t(l.typeaheadAppendToBody):false;var b=t(l.ngModel).assign;var w=o.parse(l.typeahead);var E;var S=angular.element("<div typeahead-popup></div>");S.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"});if(angular.isDefined(l.typeaheadTemplateUrl)){S.attr("template-url",l.typeaheadTemplateUrl)}var x=a.$new();a.$on("$destroy",function(){x.$destroy()});var T=function(){x.matches=[];x.activeIdx=-1};var N=function(e){var t={$viewValue:e};v(a,true);n.when(w.source(a,t)).then(function(n){if(e===c.$viewValue&&E){if(n.length>0){x.activeIdx=0;x.matches.length=0;for(var r=0;r<n.length;r++){t[w.itemName]=n[r];x.matches.push({label:w.viewMapper(x,t),model:n[r]})}x.query=e;x.position=y?s.offset(f):s.position(f);x.position.top=x.position.top+f.prop("offsetHeight")}else{T()}v(a,false)}},function(){T();v(a,false)})};T();x.query=undefined;var C;c.$parsers.unshift(function(e){E=true;if(e&&e.length>=h){if(p>0){if(C){r.cancel(C)}C=r(function(){N(e)},p)}else{N(e)}}else{v(a,false);T()}if(d){return e}else{if(!e){c.$setValidity("editable",true);return e}else{c.$setValidity("editable",false);return undefined}}});c.$formatters.push(function(e){var t,n;var r={};if(g){r["$model"]=e;return g(a,r)}else{r[w.itemName]=e;t=w.viewMapper(a,r);r[w.itemName]=undefined;n=w.viewMapper(a,r);return t!==n?t:e}});x.select=function(e){var t={};var n,r;t[w.itemName]=r=x.matches[e].model;n=w.modelMapper(a,t);b(a,n);c.$setValidity("editable",true);m(a,{$item:r,$model:n,$label:w.viewMapper(a,t)});T();f[0].focus()};f.bind("keydown",function(e){if(x.matches.length===0||u.indexOf(e.which)===-1){return}e.preventDefault();if(e.which===40){x.activeIdx=(x.activeIdx+1)%x.matches.length;x.$digest()}else if(e.which===38){x.activeIdx=(x.activeIdx?x.activeIdx:x.matches.length)-1;x.$digest()}else if(e.which===13||e.which===9){x.$apply(function(){x.select(x.activeIdx)})}else if(e.which===27){e.stopPropagation();T();x.$digest()}});f.bind("blur",function(e){E=false});var k=function(e){if(f[0]!==e.target){T();x.$digest()}};i.bind("click",k);a.$on("$destroy",function(){i.unbind("click",k)});var L=e(S)(x);if(y){i.find("body").append(L)}else{f.after(L)}}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:true,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl;e.isOpen=function(){return e.matches.length>0};e.isActive=function(t){return e.active==t};e.selectActive=function(t){e.active=t};e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,s,o){var u=r(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e.get(u,{cache:t}).success(function(e){s.replaceWith(n(e.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?t.replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}});angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html","<dd>\n"+'  <a ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a>\n'+'  <div class="content" ng-style="isOpen ? {display: \'block\'} : {}" ng-transclude></div>\n'+"</dd>\n"+"")}]);angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<dl class="accordion" ng-transclude></div>\n'+"")}]);angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html","<div class='alert-box' ng-class='(type || \"\")'>\n"+"  <span ng-transclude></span>\n"+"  <a ng-show='closeable' class='close' ng-click='close()'>&times;</a>\n"+"</div>\n"+"")}]);angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="reveal-modal-bg fade" ng-class="{in: animate}" ng-click="close($event)" style="display: block"></div>\n'+"")}]);angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" class="reveal-modal fade {{ windowClass }}"\n'+'  ng-class="{in: animate}" ng-click="close($event)"\n'+'  style="display: block; position: absolute; visibility: visible">\n'+"  <div ng-transclude></div>\n"+"</div>\n"+"")}]);angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pagination">\n'+'  <li ng-repeat="page in pages" class="arrow" ng-class="{unavailable: page.disabled, left: page.previous, right: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n'+"</ul>\n"+"")}]);angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n'+'  <li ng-repeat="page in pages" ng-class="{arrow: $first || $last, current: page.active, unavailable: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n'+"</ul>\n"+"")}]);angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<span class="tooltip tip-{{placement}}"\n'+'  ng-class="{ in: isOpen(), fade: animation() }"\n'+'  style="width: auto">\n'+'  <span bind-html-unsafe="content"></span>\n'+'  <span class="nub"></span>\n'+"</span>\n"+"")}]);angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<span class="tooltip tip-{{placement}}"\n'+'  ng-class="{ in: isOpen(), fade: animation() }"\n'+'  style="width: auto">\n'+'  <span ng-bind="content"></span>\n'+'  <span class="nub"></span>\n'+"</span>\n"+"")}]);angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="joyride-tip-guide" ng-class="{ in: isOpen(), fade: animation() }">\n'+'  <span class="joyride-nub" ng-class="{\n'+"    bottom: placement === 'top',\n"+"    left: placement === 'right',\n"+"    right: placement === 'left',\n"+"    top: placement === 'bottom'\n"+'  }"></span>\n'+'  <div class="joyride-content-wrapper">\n'+'    <h4 ng-bind="title" ng-show="title"></h4>\n'+'    <p ng-bind="content"></p>\n'+"  </div>\n"+"</div>\n"+"")}]);angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<span class="meter" ng-transclude></span>\n'+"")}]);angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-class="type" ng-transclude></div>\n'+"")}]);angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress" ng-class="type">\n'+'  <span class="meter" ng-transclude></span>\n'+"</div>\n"+"")}]);angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n'+'  <i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="fa"\n'+"    ng-class=\"$index < val && (r.stateOn || 'fa-star') || (r.stateOff || 'fa-star-o')\"></i>\n"+"</span>\n"+"")}]);angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<dd ng-class="{active: active}">\n'+'  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n'+"</dd>\n"+"")}]);angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div class="tabbable">\n'+'  <dl class="tabs" ng-class="{\'vertical\': vertical}" ng-transclude></dl>\n'+'  <div class="tabs-content">\n'+'    <div class="content" \n'+'      ng-repeat="tab in tabs" \n'+'      ng-class="{active: tab.active}">\n'+'      <div tab-content-transclude="tab"></div>\n'+"    </div>\n"+"  </div>\n"+"</div>\n"+"")}]);angular.module("template/tour/tour.html",[]).run(["$templateCache",function(e){e.put("template/tour/tour.html",'<div class="joyride-tip-guide" ng-class="{ in: isOpen(), fade: animation() }">\n'+'  <span class="joyride-nub" ng-class="{\n'+"    bottom: placement === 'top',\n"+"    left: placement === 'right',\n"+"    right: placement === 'left',\n"+"    top: placement === 'bottom'\n"+'  }"></span>\n'+'  <div class="joyride-content-wrapper">\n'+'    <h4 ng-bind="title" ng-show="title"></h4>\n'+'    <p ng-bind="content"></p>\n'+'    <a class="small button joyride-next-tip" ng-show="!isLastStep()" ng-click="nextStep()">Next</a>\n'+'    <a class="small button joyride-next-tip" ng-show="isLastStep()" ng-click="endTour()">End</a>\n'+'    <a class="joyride-close-tip" ng-click="endTour()">&times;</a>\n'+"  </div>\n"+"</div>\n"+"")}]);angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]);angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html","<ul class=\"f-dropdown\" ng-style=\"{display: isOpen()&&'block' || 'none', top: position.top+'px', left: position.left+'px'}\">\n"+'    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n'+'        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n'+"    </li>\n"+"</ul>\n"+"")}])